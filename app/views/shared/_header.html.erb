<header class="bg-teal-500 text-white h-14 flex items-center relative px-4"
        data-controller="menu">

  <% if user_signed_in? %>
    <!-- ハンバーガーメニュー -->
    <button
      data-action="click->menu#open"
      class="text-3xl p-2 absolute left-4"
      aria-label="メニュー">
      ☰
    </button>
  <% end %>

  <!-- タイトル -->
  <h1 class="mx-auto text-lg font-bold">
    wasurenai
  </h1>

  <% if user_signed_in? %>
    <!-- サイドメニュー -->
    <div
      data-menu-target="panel"
      class="fixed top-0 left-0 h-full w-64 bg-white text-gray-800 shadow-lg
             transform -translate-x-full transition-transform duration-300 z-50">

      <!-- ユーザー情報 -->
      <div class="p-4 border-b flex items-center gap-3">
        <!-- アイコン -->
        <img
          src="<%= current_user.image %>"
          alt="ユーザーアイコン"
          class="w-12 h-12 rounded-full"
        >

        <!-- 名前 -->
        <div class="flex-1">
          <p class="font-semibold text-gray-900">
            <%= current_user.name %>
          </p>
          <p class="text-xs text-gray-500">
            LINEでログイン中
          </p>
        </div>

        <!-- 閉じる -->
        <button
          data-action="click->menu#close"
          class="text-2xl text-gray-500">
          ×
        </button>
      </div>

      <!-- ナビ -->
      <nav class="p-4 space-y-4">
        <%= link_to "ホーム", root_path, class: "block" %>

        <%= button_to "ログアウト",
              destroy_user_session_path,
              method: :delete,
              data: { turbo: false },
              class: "text-red-600" %>
      </nav>
    </div>
  <% end %>

</header>

